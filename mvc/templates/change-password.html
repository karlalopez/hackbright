<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>MVC</title>
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/starter-template.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="/static/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>


<body>
  <div class="container">
  <div class="starter-template">
    <div id="header">
      <h1>{{message}}</h1>
    </div>
    <div class="starter-template">
      <table class="table table-striped">
        <tr>
          <td> ID</td>
          <td> Username</td>
          <td> Email</td>
          <td> Password</td>
          <td> Real Name</td>
          <td> Avatar</td>
        </tr>
        {% for id,username,email,password,name,avatar in user_info %}
          <tr>
            <td>{{id}}</td>
            <td>{{username}} </td>
            <td>{{email}} </td>
            <td>{{password}} </td>
            <td>{{name}} </td>
            <td>{{avatar}}</td>
          </tr>
        {% endfor %}
      </table>
      <hr>
      <h1>Change password </h1>
    </div>
    <form action="change-password" method="POST" >

      <p>Old Password:
      <input type="password" name="old_password" required></p>

      <p>New Password:
      <input type="password" id="pass1" name="new_password" required></p>

      <p>Re-type new Password:
      <input type="password" id="pass2" name="retype_password" required onkeyup="checkPass(); return false;"></p>
      <p><span id="confirmMessage" class="confirmMessage"></span></p>
      <p>
      <input type="submit" value="Change password" class="btn btn-primary"></i>
      </p>
      <hr>
      <p><a class="btn btn-primary" href="logout" role="button">Logout</a></p>
    </div>





</div><!-- /.container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="/static/js/ie10-viewport-bug-workaround.js"></script>
<script>
function checkPass()
{
    //Store the password field objects into variables ...
    var pass1 = document.getElementById('pass1');
    var pass2 = document.getElementById('pass2');
    //Store the Confimation Message Object ...
    var message = document.getElementById('confirmMessage');
    //Set the colors we will be using ...
    var goodColor = "#66cc66";
    var badColor = "#ff6666";
    //Compare the values in the password field
    //and the confirmation field
    if(pass1.value == pass2.value){
        //The passwords match.
        //Set the color to the good color and inform
        //the user that they have entered the correct password
        pass2.style.backgroundColor = goodColor;
        message.style.color = goodColor;
        message.innerHTML = "Passwords Match!"
    }else{
        //The passwords do not match.
        //Set the color to the bad color and
        //notify the user.
        pass2.style.backgroundColor = badColor;
        message.style.color = badColor;
        message.innerHTML = "Passwords Do Not Match!"
    }
}
</script>

</body>
</html>
